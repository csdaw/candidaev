---
output:
  github_document:
    toc: TRUE
    toc_depth: 4
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo=FALSE}
knitr::opts_chunk$set(collapse = TRUE,
                      comment = "#>")
```

# candidaev

![GitHub last commit](https://img.shields.io/github/last-commit/csdaw/candidaev.svg?style=popout)


This repository contains the research compendium for our paper:

> Dawson, C. S., Garcia-Ceron, D., Rajapaksha, H., Faou, P., Anderson, M. A., 
Bleackley, M. R. (2019) Protein markers for _Candida albicans_ EVs include 
claudin-like Sur7 family proteins and Rho GTPases. Mol. Cell. Proteomics, 
submitted.

It has been permanently archived at Zenodo with the DOI shown above. The raw 
MS data has been deposited in the ProteomeXchange Consortium database via 
the PRIDE partner repository with the data set identifiers PXD014367, 
PXD014388, and PXD014389.

The compendium includes all the data, code, and text associated with the 
publication. It is structured as an R package to facilitate reproducilibity and 
distribution. The principles and motivations behind using research compendiums 
for academic research is detailed in 
[Marwick et al. (2018)](https://doi.org/10.1080/00031305.2017.1375986). 

The R package [rrtools](https://github.com/benmarwick/rrtools) was used in the 
production of this compendium.

### Citation

Please cite this compendium as:

> Dawson, C. S., Garcia-Ceron, D.,. Rajapaksha, H., Faou, P., Anderson, M. A., 
Bleackley, M. R. (2019) Research compendium for "Protein markers for 
_Candida albicans_ EVs include claudin-like Sur7 family proteins and Rho 
GTPases". version x.x.x. Zenodo. URL.

### Contents

```
    .
    ├── /R                   # Script files for functions and included data
    ├── /data-raw            # Raw data used (but not modified) in analyses
    ├── /data                # Data tables installed with package
    ├── /inst/manuscript     # Final submitted manuscript and supplemental files
    ├── /man                 # Auto-generated documentation for functions and included data
    ├── /vignettes           # Detailed examples of how analyses were performed
    ├── .Rbuildignore        # List of files and directories to ignore during R package build
    ├── .gitattributes       # List of files for github/linguist to ignore
    ├── .gitignore           # List of files to ignore during git commit
    ├── DESCRIPTION          # Research compendium metadata
    ├── LICENSE.md           # MIT License for code
    ├── NAMESPACE            # Auto-generated file for function export
    ├── README.Rmd           # Rmarkdown file to produce README.md
    ├── README.md            # Description of research compendium
    └── candidaev.Rproj      # R project file for compendium

```

### Accessing the compendium

#### 1. Installing the package using R and `devtools`

This research compendium can be installed as an R package `candidaev` from 
GitHub using `devtools`. A full installation will include all the functions and 
data included in the package as well as some HTML vignettes,
and the manuscript `.Rmd` file which can be used to reproduce the manuscript as
it was submitted.

A partial installation will only install functions and data, which can be
used to analyse other MaxQuant `.txt` files.

```{r gh-install, eval=FALSE}
# install the devtools package from CRAN if not already installed
# install.packages("devtools")

# install partial compendium (functions, data)
devtools::install_github("csdaw/candidaev", 
                         INSTALL_opts = "--no-inst")

# install full compendium (functions, data, vignettes, manuscript) 
# and other packages required to build vignettes and manuscript
devtools::install_github("csdaw/candidaev", 
                         build_opts = c("--no-resave-data", "--no-manual"), 
                         dependencies = TRUE)
```

**Note:** the contents of `/data-raw` and `/inst/manuscript/supplement_files` 
are not installed when the package is 
installed using `install_github`. Instead, `/data-raw` can be manually 
downloaded from 
[here](https://github.com/csdaw/candidaev/tree/master/data-raw) and 
`/inst/manuscript/supplement_files` can be manually downloaded from 
[here](https://github.com/csdaw/candidaev/tree/master/inst/manuscript).

#### 2. Cloning via `git`

The research compendium can be downloaded from GitHub as is using `git`. 
First install git from [here](https://git-scm.com/), navigate to a directory of 
choice then execute this line at a Bash prompt:

```
git clone https://github.com/csdaw/candidaev.git
```

**Note:** the `candidaev` package must be installed to function.

#### 3. Downloading directly from GitHub

The research compendium can be downloaded from GitHub as a zip using this URL:
<https://github.com/csdaw/candidaev/archive/master.zip>. 

**Note:** the `candidaev` package must be installed to function. 

### Using the `candidaev` package after installation

#### Accessing included MS data

The MaxQuant `proteinsGroups.txt` files on which the analyses in this 
compendium are based is available from the PRIDE data sets mentioned above. 
They are also included when the `candidaev` package is installed, 
and can be accessed with:

```{r, eval=FALSE}
library(candidaev)

data(atcc)

data(biofilm)

data(yeast)
```

#### Viewing the vignettes

Three HTML vignettes detailing the analysis procedures used in the manuscript 
are included in this research compendium. These 
vignettes can be viewed with:

```{r, eval=FALSE}
# if full compendium package was installed with devtools::install_github
browseVignettes("candidaev")

# if the partial compendium package was installed 
# the vignettes are not included. Please install the full compendium.
```

#### Building the manuscript

To generate the reproducible manuscript, an installation of LaTeX is required. 
TinyTex is a good option for this and can be installed using:

```{r, eval=FALSE}
# install TinyTex R package
install.packages("tinytex")

# install TinyTex LaTex distribution
tinytex::install_tinytex()
```

Then the manuscript (and supplement) can be built using:

```{r, eval=FALSE}
# requires LaTeX installation and full compendium installation
rmarkdown::render(system.file("manuscript", "manuscript.Rmd", 
                              package = "candidaev"))
rmarkdown::render(system.file("manuscript", "manuscript_supplement.Rmd", 
                              package = "candidaev"))
```

### R session information

The system on which this document was compiled was running 
pandoc v`r rmarkdown::pandoc_version()`. Here is output of 
`sessionInfo()`.

```{r sessionInfo, echo=FALSE}
sessionInfo()
```

